:root{
  --bg:#0f0f10; --panel:#151517; --grid:#2a2a2a; --snake:#3a6; --tile-bg:#223;
  --text:#e6e6e6; --muted:#9aa0a6;
  --correct:#538d4e; --present:#b59f3b; --absent:#3a3a3c;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font:16px/1.4 system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
  color:var(--text); background:var(--bg);
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
  touch-action:manipulation;
}

#app{
  max-width:1100px; margin:0 auto;
  display:flex; flex-direction:column;
  min-height:100dvh; padding:10px; gap:10px;
  padding-bottom:calc(10px + env(safe-area-inset-bottom,0px));
}

/* Header with Reset aligned right */
header{display:flex; align-items:center; gap:12px;}
h1{margin:0; font-size:20px; font-weight:700; letter-spacing:0.3px;}
header .buttons{margin-left:auto; display:flex; gap:8px;}
button{
  appearance:none; border:1px solid #333; background:#1f1f22; color:var(--text);
  padding:8px 12px; border-radius:10px; cursor:pointer; font-weight:600;
}
button:hover{background:#242428}
button:active{transform:translateY(1px)}

main{display:grid; grid-template-columns:1fr min(360px,38%); gap:10px;}

/* Canvas (JS sets backing store; CSS controls layout height) */
#board{
  width:100%; height:min(75vh,78dvh);
  display:block; border:1px solid #222; border-radius:12px; background:#111;
}

/* Right panel */
#panel{
  background:var(--panel); border:1px solid #222; border-radius:12px;
  padding:12px; display:flex; flex-direction:column; gap:12px;
  min-height:min(75vh,78dvh);
}

#status{
  min-height:24px; padding:6px 8px; border-radius:8px; background:#111; border:1px solid #222;
  white-space:pre-line;
}

#stats{display:flex; gap:10px; flex-wrap:wrap;}
.stat{background:#111; border:1px solid #222; border-radius:8px; padding:8px 10px; color:var(--muted);}
.stat strong{color:var(--text)}

.panel-subtitle{
  margin:0; font-size:13px; color:var(--muted); font-weight:600; text-transform:uppercase; letter-spacing:0.08em;
}

/* Tiles */
.tiles{display:grid; grid-template-columns:repeat(5,1fr); gap:6px;}
.tiles .tile{
  height:42px; border-radius:8px; background:var(--tile-bg);
  display:flex; align-items:center; justify-content:center; font-weight:700; border:1px solid #2b2f3a; user-select:none;
}
.gap{height:16px;}
.tiles.guesses{grid-template-columns:repeat(5,1fr); grid-auto-rows:42px;}

.tile.correct{background:var(--correct); border-color:var(--correct); color:#fff;}
.tile.present{background:var(--present); border-color:var(--present); color:#fff;}
.tile.absent{background:var(--absent); border-color:var(--absent); color:#fff;}

/* On-screen D-pad (desktop/tablet only) */
.controls{margin-top:auto; display:flex; flex-direction:column; align-items:center; gap:8px;}
.controls>button{width:64px; height:44px; border-radius:10px;}
.controls .row{display:flex; gap:8px;}
.controls .row button{width:64px; height:44px; border-radius:10px;}

/* ===== Mobile: iPhone 13 portrait (bottom URL bar) ===== */
@media (max-width: 390px){
  body{font-size:15px;}
  main{grid-template-columns:1fr;}   /* stack */
  #app{gap:8px;}
  header{gap:8px;}
  h1{font-size:18px;}
  header .buttons button{padding:6px 10px;}

  #board{height:40dvh; border-radius:10px;}   /* smaller canvas */
  #panel{min-height:58dvh; padding:10px; gap:10px;}

  #status{min-height:20px; padding:6px 8px; font-size:14px;}
  #stats{gap:8px;}
  .stat{padding:6px 8px; font-size:13px;}

  .tiles{gap:4px;}
  .tiles .tile{height:30px; border-radius:8px; font-size:15px;}
  .tiles.guesses{grid-auto-rows:30px;}
  .panel-subtitle{font-size:12px;}
  .gap{height:10px;}

  /* Hide D-pad on phonesâ€”use swipe controls instead */
  #controls{ display:none; }

  /* Hide footer to reclaim vertical space */
  footer{display:none;}
}

/* Extra-tight for very short effective heights (URL bar expanded) */
@media (max-width:390px) and (max-height:740px){
  #board{height:38dvh;}
  #panel{min-height:60dvh;}
  .tiles .tile{height:28px; font-size:14px;}
  .tiles.guesses{grid-auto-rows:28px;}
}

/* Stop page from scrolling when swiping on the canvas */
#board {
  touch-action: none;              /* modern iOS Safari respects this */
}

/* Reduce pull-to-refresh/overscroll side effects */
html, body {
  overscroll-behavior: none;
}

